

# ğŸŒŸ **Spring Security Basics**

**Goal:** Understand what Spring Security is, why we use it, and implement basic authentication.

---

# ğŸŸ¦ **1. What is Security in Web Applications? (Beginner Explanation)**

Every web application must protect:

* User data
* Admin data
* Payments
* Sensitive information

**Security = Protecting the application from unauthorized users.**

---

# ğŸŸ© **2. What is Authentication & Authorization?**

### âœ” **Authentication**

â€œWho are you?â€
Verifies the user identity (login).

Example:

* Enter username & password
* Application checks if valid

### âœ” **Authorization**

â€œWhat are you allowed to do?â€
Controls user permissions (roles).

Example:

* Normal user â†’ view products
* Admin â†’ add/delete products

---

# ğŸŸ§ **3. What is Spring Security? (Beginner Explanation)**

Spring Security is a framework that provides:

âœ” Login authentication
âœ” Role-based access
âœ” Password encryption
âœ” Protects all APIs
âœ” Filters every request
âœ” Used in all real-time applications

Spring Security automatically **locks all APIs** unless allowed.

---

# ğŸŸ¥ **4. Add Spring Security Dependency**

Add this dependency in `pom.xml`:

```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-security</artifactId>
</dependency>
```

---

# ğŸŸ¦ **5. What Happens After Adding Security? (Beginner Notes)**

Once you add Spring Security:

1ï¸âƒ£ All APIs become protected
2ï¸âƒ£ Browser shows a login page
3ï¸âƒ£ Default username = **user**
4ï¸âƒ£ Default password = printed in console

Example console log:

```
Using generated security password: 34b41a2f-6f69-492b
```

---

# ğŸŸ¨ **6. Default Login Credentials**

### Username:

```
user
```

### Password:

Generated new every time in your console.

---

# ğŸŸ© **7. Basic Authentication Example**

### Step 1 â†’ Try calling your API:

```
http://localhost:8080/hello
```

It will ask for username/password.

---

# ğŸŸ« **8. Create Custom Security Configuration File (Beginner Level)**

### Create `SecurityConfig.java`

```java
@Configuration
@EnableWebSecurity
public class SecurityConfig {

    @Bean
    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {

        http.csrf().disable()                     // Disable CSRF for beginners
            .authorizeHttpRequests()
            .requestMatchers("/public/**").permitAll() // open endpoints
            .anyRequest().authenticated()         // lock everything else
            .and()
            .formLogin();                         // default login form

        return http.build();
    }
}
```

---

# ğŸŸ¥ **9. Creating Custom Users (In-Memory Authentication)**

Add this inside `SecurityConfig`:

```java
@Bean
public UserDetailsService userDetailsService() {

    UserDetails user1 = User.withUsername("student")
            .password("{noop}1234") // {noop} â†’ no encoding
            .roles("USER")
            .build();

    UserDetails admin = User.withUsername("admin")
            .password("{noop}admin")
            .roles("ADMIN")
            .build();

    return new InMemoryUserDetailsManager(user1, admin);
}
```

### Now login with:

* Username: student | Password: 1234
* Username: admin | Password: admin

---

# ğŸŸ¦ **10. Role-Based Authorization (BEGINNER LEVEL)**

### Add access rules:

```java
http.authorizeHttpRequests()
    .requestMatchers("/admin/**").hasRole("ADMIN")
    .requestMatchers("/user/**").hasRole("USER")
    .requestMatchers("/public/**").permitAll()
    .anyRequest().authenticated();
```

### Example Controllers:

#### UserController

```java
@RestController
@RequestMapping("/user")
public class UserController {

    @GetMapping("/home")
    public String userHome() {
        return "Welcome USER!";
    }
}
```

#### AdminController

```java
@RestController
@RequestMapping("/admin")
public class AdminController {

    @GetMapping("/dashboard")
    public String adminHome() {
        return "Welcome ADMIN!";
    }
}
```

---

# ğŸŸ§ **11. Password Encoding (Beginner Explanation)**

Plain passwords = unsafe!
Spring Security requires encryption.

### Simple encoder:

```java
@Bean
public PasswordEncoder passwordEncoder() {
    return new BCryptPasswordEncoder();
}
```

### Use it:

```java
UserDetails user = User.withUsername("kumar")
        .password(passwordEncoder().encode("1234"))
        .roles("USER")
        .build();
```

---

# â­ **12. Mini Project**

Create:

### **1ï¸âƒ£ Endpoints**

* `/public/info` â†’ no login required
* `/user/home` â†’ only USER can access
* `/admin/home` â†’ only ADMIN can access

### **2ï¸âƒ£ InMemory Users**

* user â†’ password: 1234
* admin â†’ password: admin

### **3ï¸âƒ£ Restrict routes using roles**

### Output:

* If USER accesses `/admin/home` â†’ **403 Forbidden**
* If ADMIN accesses `/user/home` â†’ **403 Forbidden**
* `/public/info` â†’ open for all

---

# ğŸ“ **13. Day Assignments (Beginner Level)**

### **Task 1:**

Create three users:

| Username | Password | Role  |
| -------- | -------- | ----- |
| ram      | ram123   | USER  |
| sai      | sai123   | USER  |
| vijay    | vijay123 | ADMIN |

---

### **Task 2:**

Create endpoints:

* `/user/profile`
* `/user/settings`
* `/admin/users`
* `/admin/settings`

Enforce rules:

* USER can access only `/user/*`
* ADMIN can access only `/admin/*`

---

### **Task 3:**

Enable password encoding with BCrypt.

