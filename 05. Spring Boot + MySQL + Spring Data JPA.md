

# ğŸŒŸ **Spring Boot + MySQL + Spring Data JPA**

**Goal:** Students learn how to connect to MySQL, create entity, repository, and perform CRUD with a database.

---

# ğŸŸ¦ **1. What is JPA? (Beginner Explanation)**

JPA = **Java Persistence API**
It is a specification (not a tool) that defines how Java applications can interact with a database.

Think of JPA as:

> A set of rules for storing Java objects into database tables.

---

# ğŸŸ© **2. What is Hibernate?**

Hibernate is an **ORM (Object Relational Mapping)** framework.

ORM = Convert Java objects â†’ database table rows.

Hibernate is the **most popular implementation** of JPA.

---

# ğŸŸ§ **3. What is Spring Data JPA?**

Spring Data JPA = JPA + Hibernate + Spring Boot
It removes 90% of database code.

You do NOT write SQL manually because Spring Boot manages it.

---

# ğŸŸ¥ **4. Add MySQL & JPA Dependencies (pom.xml)**

Add these dependencies:

```xml
<!-- Spring Web -->
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-web</artifactId>
</dependency>

<!-- Spring Data JPA -->
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-data-jpa</artifactId>
</dependency>

<!-- MySQL Driver -->
<dependency>
    <groupId>mysql</groupId>
    <artifactId>mysql-connector-j</artifactId>
    <scope>runtime</scope>
</dependency>
```

---

# ğŸŸ¦ **5. Create Database in MySQL**

Open MySQL Workbench â†’ run:

```sql
CREATE DATABASE springdb;
```

---

# ğŸŸ¨ **6. Configure Database in application.properties**

```properties
spring.datasource.url=jdbc:mysql://localhost:3306/springdb
spring.datasource.username=root
spring.datasource.password=yourpassword

# JPA Settings
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
```

### Meaning of ddl-auto:

* **update** â†’ auto creates table if not present
* **create** â†’ creates new table every time (deletes old data)
* **none** â†’ no changes

For students â†’ **use update**

---

# ğŸŸ¥ **7. Create Entity Class (BEGINNER Level)**

Entity = A table in the database.

### Student.java

```java
@Entity
public class Student {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private int id;

    private String name;
    private String city;

    // getters & setters
}
```

### Notes:

* @Entity â†’ Marks table
* @Id â†’ Primary Key
* @GeneratedValue â†’ Auto-increment

---

# ğŸŸ§ **8. Create Repository Interface**

Repository = used to talk to database.

### StudentRepository.java

```java
public interface StudentRepository extends JpaRepository<Student, Integer> {
}
```

### Benefits of JpaRepository:

You automatically get:

* save()
* findAll()
* findById()
* deleteById()

No SQL needed!

---

# ğŸŸ¦ **9. Create Service Layer (Beginner Level)**

### StudentService.java

```java
@Service
public class StudentService {

    private final StudentRepository repo;

    public StudentService(StudentRepository repo) {
        this.repo = repo;
    }

    public Student saveStudent(Student student) {
        return repo.save(student);
    }

    public List<Student> getAllStudents() {
        return repo.findAll();
    }

    public Student getStudent(int id) {
        return repo.findById(id).orElse(null);
    }

    public void deleteStudent(int id) {
        repo.deleteById(id);
    }
}
```

---

# ğŸŸ© **10. Create REST Controller (CRUD)**

### StudentController.java

```java
@RestController
@RequestMapping("/students")
public class StudentController {

    private final StudentService service;

    public StudentController(StudentService service) {
        this.service = service;
    }

    // CREATE
    @PostMapping
    public Student save(@RequestBody Student student) {
        return service.saveStudent(student);
    }

    // READ ALL
    @GetMapping
    public List<Student> getAll() {
        return service.getAllStudents();
    }

    // READ ONE
    @GetMapping("/{id}")
    public Student getOne(@PathVariable int id) {
        return service.getStudent(id);
    }

    // DELETE
    @DeleteMapping("/{id}")
    public String delete(@PathVariable int id) {
        service.deleteStudent(id);
        return "Student deleted";
    }
}
```

---

# â­ **11. Test All APIs in Postman**

---

### **1ï¸âƒ£ POST â†’ Create Student**

URL:

```
POST http://localhost:8080/students
```

Body (JSON):

```json
{
  "name": "Kumar",
  "city": "Hyderabad"
}
```

---

### **2ï¸âƒ£ GET â†’ Fetch All**

```
GET http://localhost:8080/students
```

---

### **3ï¸âƒ£ GET â†’ Fetch One**

```
GET http://localhost:8080/students/1
```

---

### **4ï¸âƒ£ DELETE â†’ Remove Student**

```
DELETE http://localhost:8080/students/1
```

---

# ğŸ“ **12.Assignments for Students**

### **Task 1 â€“ Create Employee Table**

Create Employee entity:

* id
* name
* salary
* department

Create:

* EmployeeRepository
* EmployeeService
* EmployeeController

CRUD:

* POST /employees
* GET /employees
* GET /employees/{id}
* DELETE /employees/{id}

---

### **Task 2 â€“ Use ddl-auto=update and show SQL**

Enable:

```properties
spring.jpa.show-sql=true
```

Ask students to observe generated SQL in console.

---

### **Task 3 â€“ Practice 5 Entries in MySQL Workbench**

Insert 5 records using POST API.

